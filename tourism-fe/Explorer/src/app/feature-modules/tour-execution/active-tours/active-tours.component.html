<div class="container-fluid">
    <div class="row">
        <div style="border: 2px solid var(--white);border-radius: 15px;" class="py-3 col-12 recommended-header mb-5 d-flex justify-content-center">
            <div>
                <i class="bi bi-person-raised-hand"></i>
                Discover the tours that our thrilled travelers absolutely love
            </div>
                
        </div>
        <div class="ps-0 col-12">
            <div class="container-fluid ps-0" id="recomended-scroll" style="overflow-y: scroll;height: 100vh;scroll-behavior: smooth;width: 100%;">
                <div *ngIf="activeTours">
                    <div style="width: 100%;" class="pe-4">
                      <div class="tour-card mb-5" (mouseenter)="getFirstTourKeypointById(t.id)"
                        *ngFor="let t of activeTours; let idx = index" (click)="tourShow(t.id)">
                        <div class="card-brief" style="width: 100%; height: 100%;">
                          <img [src]="activeTours[idx]?.image" class="tour-img" alt="Tour image">
                          <div class="tour-header p-4">
                            <div class="ps-0 d-flex mb-3 justify-content-between flex-wrap">
                              <span style="width: 50%;" class="text-wrap tour-header-span text-start">{{t?.name}}</span>
                              <span class="text-end" style="font-size: 32px; font-weight: bold;width: 50%;">{{t!.price}}<span class="ms-1">AC</span></span>
                            </div>
                            <div class="text-start">
                              <span [style.background-color]="getBadgeColor(activeTours[idx]!.difficulty)"
                                class="difficulty-badge px-3 py-1">{{
                                    activeTours[idx] ? tourDifficulty[activeTours[idx].difficulty] : ''
                                }}</span>
                            </div>
                          </div>
                        </div>
                        <div class="tour-footer">
                          <div class="px-4 py-2">
                            <div class="mb-2 d-flex flex-row justify-content-between align-items-center">
                              <div class="text-start" style="width: 50%;"><i class="me-1 bi bi-signpost-split-fill"></i>First stop:</div>
                              <div class="text-end" style="width: 50%;white-space: nowrap;overflow: hidden;
                              text-overflow: ellipsis;">{{firstKeyPoint?.name}}</div>
                            </div>
                            <div class="mt-2 d-flex flex-row justify-content-between align-items-center">
                              <div class="text-start" style="width: 50%;"><i class="me-1 bi bi-grid-fill"></i>Categories:</div>
                              <div style="width: 50%;" class="mt-1 d-flex flex-wrap flex-row justify-content-start" style="overflow: hidden;">
                                <div *ngFor="let tag of t?.tags" class="mb-1 ms-1 rounded-pill border px-2 py-1 border-2">
                                  {{tag}}
                                </div>
                              </div>
                            </div>
                            <div class="container-fluid d-flex justify-content-center mt-5">
                                <button (click)="handleButtonClick($event, t, idx)" class="mt-3 p-2 py-1 add-to-cart-btn"><i
                                    class="bi bi-cart-plus-fill me-2"></i>Add to cart</button>
                            </div>
                          </div>
                        </div>
                      </div>
              
                    </div>
                  </div>
            </div>
        </div>
    </div>    
</div>
