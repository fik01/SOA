<div id="challenges" class="p-5">
  <div class="hidden ps-0 header-div container-fluid fs-1 bold text-start">Challenges</div>
  <div class="container-fluid">
    <div class="row">
      <div class="hidden form-wrapper mt-4 col-lg-5 pt-2 px-3 mb-3">
        <div class="fs-4 header mt-2 mb-2 ms-3"><i class="bi bi-backpack-fill me-1"></i><span class="text-dark">Create challenge </span><i class="bi bi-patch-question-fill custom-green" [matTooltip]="this.tooltipMessage" matTooltipPosition="right"></i></div>
          <div>
            <xp-challenge-form [keyPoint]="selectedKeyPoint" (challengeUpdated)="getChallenges()"></xp-challenge-form>
          </div>
      </div>
      <div class="hidden col-lg-7 p-3 pe-lg-0 table-wrapper d-flex justify-content-center align-items-start">
        <div class="no-challenges" *ngIf="this.challengesAreEmpty">
          <img src="../../../../assets/images/challenge.png">
          <p>No challenges yet? Create one!</p>
        </div>
        <table class="challenges-table text-start fs-6" *ngIf="this.user.role==='administrator'  && !this.challengesAreEmpty">
          <thead>
            <tr>
              <th>Name</th>
              <th>Description</th>
              <th>Status</th>
              <th>Type</th>
              <th>Range</th>
              <th class="text-center">Options</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let ch of challenges">
              <td>{{ ch.name }}</td>
              <td>{{ ch.description }}</td>
              <td>{{ ch.status !== undefined ? challengeStatus[ch.status] : "" }}</td>
              <td>{{ ch.type !== undefined ? challengeType[ch.type] : "" }}</td>
              <td>{{ ch.range }}</td>
              <td class="px-1">
                <button mat-icon-button color="primary" (click)="approveChallenge(ch)" matTooltip="Approve">
                  <mat-icon>done</mat-icon>
                </button>
                <button mat-icon-button color="warn" (click)="denyChallenge(ch)" matTooltip="Deny">
                  <mat-icon>block</mat-icon>
                </button>
                <button color="basic" (click)="deleteChallenge(ch)" mat-icon-button matTooltip="Delete">
                  <mat-icon>delete</mat-icon>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
